<div ng-controller="AuthCtrl">
  <p class="navbar-text pull-right" ng-show="auth.authenticated">
    Logged in as
    <a href="#" class="navbar-link">{{auth.user.username}}</a>
    | <a ng-click="logout()">logout</a>
  </p>
  <form class="navbar-form pull-right" ng-show="!auth.authenticated && !showRegister">
    <div class="control-group" ng-class="{error: auth.error}">
      <span class="help-inline" ng-show="auth.error">{{auth.error}}</span>
      <input class="span2" type="text" placeholder="Username" ng-model="username">
      <input class="span2" type="password" placeholder="Password" ng-model="password">
      <button type="submit" class="btn" ng-click="login()">Sign in</button>
      <a ng-click="showRegister = true">register</a>
    </div>
  </form>
  <form class="navbar-form pull-right" ng-show="!auth.authenticated && showRegister">
    <div class="control-group" ng-class="{error: auth.error}">
      <span class="help-inline" ng-show="auth.error">{{auth.error}}</span>
      <input class="span2" type="text" placeholder="Username" ng-model="username">
      <input class="span2" type="password" placeholder="Password" ng-model="password">
      <button type="submit" class="btn" ng-click="register()">Register</button>
      <a ng-click="showRegister = false">login</a>
    </div>
  </form>
</div>