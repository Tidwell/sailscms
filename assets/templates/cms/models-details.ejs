<script id="template-models-details" type="template/html">

	<h1>{{model.globalId}} Model</h1>

<form class="form-horizontal">
	<div class="alert alert-success" ng-show="saved">
	  <button type="button" class="close" ng-click="clearSaved()">&times;</button>
	  <strong>Success!</strong> Your model has been updated.  You will need to restart sails to see your changes.
	</div>
	<div class="alert alert-error" ng-show="error">
	  <button type="button" class="close" ng-click="clearError()">&times;</button>
	  <strong>Error!</strong> {{error}}
	</div>
	<div ng-repeat="val in attributes">
		<div ng-show="showAutoGenerated && autoGenerated(val._key) || !autoGenerated(val._key)">
			<h3 ng-class="{autoGenerated: autoGenerated(val._key)}" ng-show="autoGenerated(val._key)">{{val._key}}</h3>
			<div ng-show="!autoGenerated(val._key)">
				<h3 class="span10">
				<i class="icon-edit"></i>
				<span class="inlineEdit" ng-bind-html="val._key" ng-model="val._key" contentEditable="true" placeholder="key"></span>
				</h3>
			</div>

			<div class="control-group">
				<label class="control-label" for="type{{val._key}}">Type</label>
				<div class="controls">
				    <input class="input-xlarge" type="text" placeholder="" ng-model="val.type" id="type{{val._key}}" ng-show="!autoGenerated(val._key)" />
				    <span class="input-xlarge uneditable-input" ng-show="autoGenerated(val._key)">{{val.type}}</span>
				</div>
			</div>

			<!--for now only show default for generated-->
			<div class="control-group" ng-show="autoGenerated(val._key)">
				<label class="control-label" for="default{{val._key}}">Default</label>
			    <div class="controls">
				    <input class="input-xlarge" type="text" placeholder="" ng-model="val.default" id="default{{val._key}}" ng-show="!autoGenerated(val._key)"/>
				    <span class="input-xlarge uneditable-input" ng-show="autoGenerated(val._key)">{{val.default}}</span>
				</div>
			</div>

			<div class="control-group">
				<label class="control-label" for="autoIncrement{{val._key}}" ng-show="!autoGenerated(val._key) || val.autoIncrement">autoIncrement</label>
			    <div class="controls">
				    <select ng-model="val.autoIncrement" id="autoIncrement{{val._key}}" ng-show="!autoGenerated(val._key)">
				    	<option value="true">true</option>
				    	<option value="">false</option>
				    </select>
				    <span class="input-xlarge uneditable-input" ng-show="autoGenerated(val._key) && val.autoIncrement">{{val.autoIncrement}}</span>
				</div>
			</div>
		</div>
	</div>
	<hr />
	<div class="control-group">
		<label class="checkbox pull-left">
			<input type="checkbox" ng-model="showAutoGenerated"> Show Auto Generated Properties
	    </label>
	    <label class="pull-left">
			<button class="btn" ng-click="addProperty()">+Add Attribute</button>
		</label>
   	</div>
   	<div class="control-group">
	    <span class="input-xxlarge uneditable-input">{{generateCommand()}}</span>
	    <button type="submit" class="btn" ng-click="updateModel()">Update Model</button>
	</div>
</form>
</script>